# teloscope validation

Validation files with a .tst extension are used to ensure that teloscope is in a working state after changes to the code.
A .tst file consists of a single line of command line arguments to run teloscope with, followed by either "embedded" to signify the expected output is in the same file, or a path to a file with the expected output.
teloscope is run with the given command line arguments and the expected output is compared to the actual output, any differences can be printed with the `-v` option, and teloscope-validate will return `EXIT_FAILURE`. The exact commands being run to test output can be seen with the `-c` option.

Run teloscope-validate with .tst files as command line arguments or folders to be recursively searched for all .tst files.
The val.sh and val.bat scripts will run teloscope-validate with all files in "validateFiles/".

Example Usage:
```
teloscope-validate validateFiles/random1.fasta0.tst  // tests only random1.fasta0.tst
teloscope-validate validateFiles                     // tests all files in the validateFiles folder
```

Test files can be automatically generated by running `teloscope-generate-tests`, but this should only be done while teloscope is in a working state, with no known bugs or unexpected behavior.

`teloscope-validate` is run automatically with all files in "validateFiles/" on windows, ubuntu, and mac virtual machines through github actions when any changes are pushed or merged to the main branch.